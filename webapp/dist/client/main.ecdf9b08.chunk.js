(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t){},334:function(e,t,a){e.exports=a(766)},339:function(e,t,a){},396:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},397:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){},751:function(e,t,a){},762:function(e,t,a){},763:function(e,t,a){},764:function(e,t,a){},765:function(e,t,a){},766:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),i=a.n(o),l=(a(339),a(2)),c=a(6),s=a(4),u=a(3),m=a(5),d=a(32),p=a(61),h=a(158),f=function(e){var t=e.component,a=e.layout,n=Object(h.a)(e,["component","layout"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return function(e,t,a){return t?r.a.createElement(t,a,r.a.createElement(e,a)):r.a.createElement(e,a)}(t,a,e)}}))},b=a(41),g=a(9),E=a.n(g),v=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes;return r.a.createElement("div",{className:"page"},r.a.createElement("main",{className:a.main,role:"main"},t))}}]),t}(n.Component),O=E()(function(e){return{main:Object(b.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"})}})(v),y=(a(396),a(397),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children;e.classes;return r.a.createElement("div",{className:"page"},r.a.createElement("header",{role:"header"},r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("a",{href:"/home"},r.a.createElement("li",{className:"nav__item"},"Home")),r.a.createElement("a",{href:"/musea"},r.a.createElement("li",{className:"nav__item"},"Musea")),r.a.createElement("a",{href:"/collections"},r.a.createElement("li",{className:"nav__item"},"Collections")),r.a.createElement("a",{class:"actioncall",href:"/order-ticket"},r.a.createElement("li",{className:"nav__item"},"Tickets bestellen"))))),r.a.createElement("main",{className:"main",role:"main"},t),r.a.createElement("footer",{className:"footer",role:"footer"},r.a.createElement("div",{className:"hidden"})))}}]),t}(r.a.Component)),j=a(226),C=a.n(j),k=a(16),T=a(33),w=a(106),x=a.n(w),S=a(125),D=a.n(S),N=a(124),I=a.n(N),L=a(105),M=a.n(L),A=a(17),F=a.n(A),P=a(37),W=a.n(P),q=a(322),_=a.n(q),B=a(324),R=a.n(B),U=a(151),V=a.n(U),z=a(323),G=a.n(z),H=a(47),J=a.n(H);var X=Object(T.withStyles)(function(e){return{secondaryBar:{zIndex:0},menuButton:{marginLeft:-e.spacing.unit},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"}}})(function(e){var t=e.classes,a=e.onDrawerToggle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{color:"primary",position:"sticky",elevation:0},r.a.createElement(V.a,null,r.a.createElement(F.a,{container:!0,spacing:8,alignItems:"center"},r.a.createElement(D.a,{smUp:!0},r.a.createElement(F.a,{item:!0},r.a.createElement(W.a,{color:"inherit","aria-label":"Open drawer",onClick:a,className:t.menuButton},r.a.createElement(_.a,null)))),r.a.createElement(F.a,{item:!0,xs:!0}),r.a.createElement(F.a,{item:!0},r.a.createElement(J.a,{className:t.link,component:"a",href:"#"},"Go to docs")),r.a.createElement(F.a,{item:!0},r.a.createElement(G.a,{title:"Alerts \u2022 No alters"},r.a.createElement(W.a,{color:"inherit"},r.a.createElement(R.a,null)))),r.a.createElement(F.a,{item:!0},r.a.createElement(W.a,{color:"inherit",className:t.iconButtonAvatar},r.a.createElement(M.a,{className:t.avatar,src:"/static/images/avatar/1.jpg"})))))))}),K=a(11),Y=a.n(K),$=a(329),Z=a.n($),Q=a(327),ee=a.n(Q),te=a(204),ae=a.n(te),ne=a(107),re=a.n(ne),oe=a(208),ie=a.n(oe),le=a(159),ce=a.n(le),se=a(328),ue=a.n(se),me=a(206),de=a.n(me),pe=a(326),he=a.n(pe),fe=a(325),be=a.n(fe),ge=a(207),Ee=a.n(ge),ve=[{id:"Develop",children:[{id:"Blogs",icon:r.a.createElement(be.a,null),link:"/admin/blogs"},{id:"Categories",icon:r.a.createElement(he.a,null),link:"/admin/categories"},{id:"Posts",icon:r.a.createElement(de.a,null),link:"/admin/posts"},{id:"Musea",icon:r.a.createElement(de.a,null),link:"/admin/musea"},{id:"Order",icon:r.a.createElement(Ee.a,null),link:"/admin/order"},{id:"Collection",icon:r.a.createElement(Ee.a,null),link:"/admin/collections"}]}],Oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isActive=function(e){return-1!==a.props.location.pathname.indexOf(e)?a.props.classes.itemActiveItem:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=Object(h.a)(t,["classes"]);return r.a.createElement(ee.a,Object.assign({variant:"permanent"},n),r.a.createElement(ae.a,{disablePadding:!0},r.a.createElement(re.a,{className:Y()(a.firebase,a.item,a.itemCategory)},"NMD CMS"),r.a.createElement(re.a,{className:Y()(a.item,a.itemCategory),component:function(e){return r.a.createElement(d.b,Object.assign({to:"/admin"},e))}},r.a.createElement(ie.a,null,r.a.createElement(ue.a,null)),r.a.createElement(ce.a,{classes:{primary:a.itemPrimary}},"Dashboard")),ve.map(function(t){var n=t.id,o=t.children;return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(re.a,{className:a.categoryHeader},r.a.createElement(ce.a,{classes:{primary:a.categoryHeaderPrimary}},n)),o.map(function(t){var n=t.id,o=t.icon,i=t.link;return r.a.createElement(re.a,{button:!0,dense:!0,key:n,className:Y()(a.item,a.itemActionable,e.isActive(i)),component:function(e){return r.a.createElement(d.b,Object.assign({to:i},e))}},r.a.createElement(ie.a,null,o),r.a.createElement(ce.a,{classes:{primary:a.itemPrimary,textDense:a.textDense}},n))}),r.a.createElement(Z.a,{className:a.divider}))})))}}]),t}(n.Component),ye=Object(T.withStyles)(function(e){return{categoryHeader:{paddingTop:16,paddingBottom:16},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:4,paddingBottom:4,color:"rgba(255, 255, 255, 0.7)"},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:16,paddingBottom:16},firebase:{fontSize:24,fontFamily:e.typography.fontFamily,color:e.palette.common.white},itemActionable:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{color:"inherit",fontSize:e.typography.fontSize,"&$textDense":{fontSize:e.typography.fontSize}},textDense:{},divider:{marginTop:2*e.spacing.unit}}})(Object(p.f)(Oe)),je=Object(T.createMuiTheme)({typography:{useNextVariants:!0,h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},shape:{borderRadius:8}});je=Object(k.a)({},je,{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"initial"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:je.spacing.unit},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:je.palette.common.white}},MuiTab:{root:Object(b.a)({textTransform:"initial",margin:"0 16px",minWidth:0},je.breakpoints.up("md"),{minWidth:0}),labelContainer:Object(b.a)({padding:0},je.breakpoints.up("md"),{padding:0})},MuiIconButton:{root:{padding:je.spacing.unit}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:je.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}},props:{MuiTab:{disableRipple:!0}},mixins:Object(k.a)({},je.mixins,{toolbar:{minHeight:48}})});var Ce={root:{display:"flex",minHeight:"100vh"},drawer:Object(b.a)({},je.breakpoints.up("sm"),{width:256,flexShrink:0}),appContent:{flex:1,display:"flex",flexDirection:"column"},mainContent:{flex:1,padding:"0",background:"#eaeff1"}},ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mobileOpen:!1},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes;return r.a.createElement(T.MuiThemeProvider,{theme:je},r.a.createElement("div",{className:a.root},r.a.createElement(x.a,null),r.a.createElement("nav",{className:a.drawer},r.a.createElement(D.a,{smUp:!0,implementation:"js"},r.a.createElement(ye,{PaperProps:{style:{width:256}},variant:"temporary",open:this.state.mobileOpen,onClose:this.handleDrawerToggle})),r.a.createElement(D.a,{xsDown:!0,implementation:"css"},r.a.createElement(ye,{PaperProps:{style:{width:256}}}))),r.a.createElement("div",{className:a.appContent},r.a.createElement(X,{onDrawerToggle:this.handleDrawerToggle}),r.a.createElement("main",{className:a.mainContent},t))))}}]),t}(r.a.Component),Te=Object(T.withStyles)(Ce)(ke),we=a(331),xe=a.n(we),Se=a(330),De=a.n(Se),Ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).activeTab=function(){return a.props.tabs.findIndex(function(e){return e.link===a.props.location.pathname})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes,n=e.tabs,o=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{component:"div",className:a.secondaryBar,color:"primary",position:"sticky",elevation:0},r.a.createElement(V.a,null,r.a.createElement(F.a,{container:!0,alignItems:"center",spacing:8},r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(J.a,{color:"inherit",variant:"h5"},o))))),r.a.createElement(I.a,{component:"div",className:a.secondaryBar,color:"primary",position:"sticky",elevation:0},r.a.createElement(De.a,{value:this.activeTab(),textColor:"inherit"},n&&n.map(function(e,t){return r.a.createElement(xe.a,{key:"tab-".concat(t),textColor:"inherit",label:e.id,component:d.b,to:e.link})}))),r.a.createElement("div",{className:a.tabContent},t))}}]),t}(r.a.Component),Ie=Object(T.withStyles)(function(e){return{tabContent:{paddingTop:0,paddingBottom:0,paddingRight:2*e.spacing.unit,paddingLeft:2*e.spacing.unit},secondaryBar:{zIndex:0}}})(Object(p.f)(Ne)),Le=a(12),Me=a.n(Le),Ae=a(26),Fe=function e(){Object(l.a)(this,e)};Fe.URL="http://192.168.1.147:8002/api/v1",Fe.findAllPosts=Object(Ae.a)(Me.a.mark(function e(){var t,a,n,r=arguments;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,a="".concat(Fe.URL,"/posts"),null!==t&&(a+=(-1===a.indexOf("?")?"?":"&")+Fe.queryParams(t)),e.next=5,fetch("".concat(a));case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)})),Fe.findOnePost=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var a;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Fe.URL,"/musea/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Fe.findAllCollections=Object(Ae.a)(Me.a.mark(function e(){var t,a,n,r=arguments;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,a="".concat(Fe.URL,"/collections"),null!==t&&(a+=(-1===a.indexOf("?")?"?":"&")+Fe.queryParams(t)),e.next=5,fetch("".concat(a));case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)})),Fe.findAllMusea=Object(Ae.a)(Me.a.mark(function e(){var t,a,n,r=arguments;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,a="".concat(Fe.URL,"/musea"),null!==t&&(a+=(-1===a.indexOf("?")?"?":"&")+Fe.queryParams(t)),e.next=5,fetch("".concat(a));case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)})),Fe.queryParams=function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},Fe.museaLocations=Object(Ae.a)(Me.a.mark(function e(){var t,a,n,r=arguments;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,a="https://datatank.stad.gent/4/toerisme/musea.geojson?fbclid=IwAR1m0ckBeUUe5iGT6KDezRcoZiED9LKU-Yn4TsngbYLSNYzXKjmNVwViAFA",null!==t&&(a+=(-1===a.indexOf("?")?"?":"&")+Fe.queryParams(t)),e.next=5,fetch("".concat(a));case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));var Pe=Fe,We=Pe,qe=(a(477),n.Component,a(478),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{"data-glitch":"Adventure Point",class:"title glitch"},"ADVENTURE POINT"),r.a.createElement("p",null,"Blessed are the curious, for they shall have adventures"),r.a.createElement("div",{class:"image"}))},a}return Object(m.a)(t,e),t}(n.Component)),_e=qe,Be=_e,Re=[{id:"List",link:"/admin/blogs"},{id:"Create new blog",link:"/admin/blogs/create"}],Ue=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ie,{title:"Blogs Overview",tabs:Re},e)}}]),t}(n.Component),Ve=Ue,ze=Ve,Ge=a(68),He=a.n(Ge),Je=a(69),Xe=a.n(Je),Ke=a(71),Ye=a.n(Ke),$e=a(13),Ze=a.n($e),Qe=a(70),et=a.n(Qe),tt=a(48),at=a.n(tt),nt=a(72),rt=a.n(nt),ot=a(76),it=a.n(ot),lt=a(74),ct=a.n(lt),st=a(75),ut=a.n(st),mt=a(73),dt=a.n(mt),pt=a(27),ht=a.n(pt),ft=a(86),bt=a.n(ft),gt=a(87),Et=a.n(gt),vt=a(88),Ot=a.n(vt),yt=a(29),jt=a.n(yt),Ct=He()("DELETE","SOFTDELETE","SOFTUNDELETE"),kt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={posts:null,postId:null,postAction:null,dialogOpen:!1,dialogTitle:"",dialogMessage:""},a.handleDialogOpen=function(e,t){var n="",r="";switch(t){case Ct.DELETE:n="Delete from the database?",r="Do you wish permenantly delete the post with id ".concat(e,"?");break;case Ct.SOFTDELETE:n="Soft-delete from the database?",r="Do you wish to soft-delete the post with id ".concat(e,"?");break;case Ct.SOFTUNDELETE:n="Soft-undelete from the database?",r="Do you wish to soft-undelete the post with id ".concat(e,"?")}a.setState({postId:e,postAction:t,dialogOpen:!0,dialogTitle:n,dialogMessage:r})},a.handleDialogClose=function(){a.setState({dialogOpen:!1})},a.handleDialogSubmit=function(){var e="",t={};switch(a.state.postAction){case Ct.DELETE:e="/api/v1/posts/".concat(a.state.postId),t={method:"DELETE"};break;case Ct.SOFTDELETE:e="/api/v1/posts/".concat(a.state.postId,"?mode=softdelete"),t={method:"DELETE"};break;case Ct.SOFTUNDELETE:e="/api/v1/posts/".concat(a.state.postId,"?mode=softundelete"),t={method:"DELETE"}}fetch(e,t).then(function(e){return e.json()}).then(function(e){if(e.mode&&"delete"===e.mode)a.loadPosts();else{var t=e.post,n=a.state.posts.findIndex(function(e,a,n){return e._id===t._id}),r=a.state.posts;r[n]=t,a.setState(function(e){return Object(k.a)({},e,{posts:r})})}}),a.handleDialogClose()},a.loadPosts=function(){fetch("/api/v1/posts").then(function(e){return e.json()}).then(function(e){return a.setState({posts:e})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadPosts()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.posts;return r.a.createElement(jt.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Xe.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"Title"),r.a.createElement(Ze.a,null,"Synopsis"),r.a.createElement(Ze.a,null,"Category"),r.a.createElement(Ze.a,null,"Created"),r.a.createElement(Ze.a,null,"Actions"))),r.a.createElement(Ye.a,null,a&&a.map(function(t,a){return r.a.createElement(at.a,{key:t.id},r.a.createElement(Ze.a,null,t.title),r.a.createElement(Ze.a,null,t.synopsis),r.a.createElement(Ze.a,null,t.category&&t.category.name),r.a.createElement(Ze.a,null,t.created_at),r.a.createElement(Ze.a,null,r.a.createElement(W.a,{component:d.b,to:"/admin/posts/".concat(t.id,"/edit")},r.a.createElement(bt.a,null)),r.a.createElement(W.a,{onClick:function(){return e.handleDialogOpen(t.id,t.deleted_at?Ct.SOFTUNDELETE:Ct.SOFTDELETE)},style:{opacity:t.deleted_at?.3:1}},r.a.createElement(Et.a,null)),r.a.createElement(W.a,{onClick:function(){return e.handleDialogOpen(t.id,Ct.DELETE)}},r.a.createElement(Ot.a,null))))})))),r.a.createElement(rt.a,{fullScreen:!1,open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(dt.a,{id:"responsive-dialog-title"},this.state.dialogTitle),r.a.createElement(ct.a,null,r.a.createElement(ut.a,null,this.state.dialogMessage)),r.a.createElement(it.a,null,r.a.createElement(ht.a,{onClick:function(){return e.handleDialogClose()},color:"primary"},"Cancel"),r.a.createElement(ht.a,{onClick:function(){return e.handleDialogSubmit()},color:"primary",autoFocus:!0},"Submit"))))}}]),t}(n.Component),Tt=Object(T.withStyles)(function(e){return{root:{marginTop:3*e.spacing.unit,overflowX:"auto"},table:{}}})(kt),wt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(Tt,null)))}}]),t}(n.Component),xt=a(59),St=a(20),Dt=a(104),Nt=a(40),It=a.n(Nt),Lt=a(39),Mt=a.n(Lt),At=a(51),Ft=a.n(At),Pt=a(57),Wt=a.n(Pt),qt=a(30),_t=a.n(qt),Bt=(r.a.Component,function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).change=function(e,t){t.persist(),a.props.handleChange(t),a.props.setFieldTouched(e,!0,!1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=a.title,o=a.synopsis,i=a.body,l=a.categoryId,c=t.errors,s=t.touched,u=(t.handleChange,t.handleSubmit,t.isValid),m=(t.setFieldTouched,t.categories),d=t.classes;return console.log(m),r.a.createElement("form",{onSubmit:function(t){e.props.handleSubmit(t)},method:"POST"},r.a.createElement(_t.a,{id:"title",name:"title",helperText:s.title?c.title:"",error:s.title&&Boolean(c.title),label:"Title",value:n,onChange:this.change.bind(null,"title"),fullWidth:!0}),r.a.createElement(_t.a,{id:"synopsis",name:"synopsis",helperText:s.synopsis?c.synopsis:"",error:s.synopsis&&Boolean(c.synopsis),label:"Synopsis",fullWidth:!0,multiline:!0,rows:"4",value:o,onChange:this.change.bind(null,"synopsis")}),r.a.createElement(_t.a,{id:"body",name:"body",helperText:s.body?c.body:"",error:s.body&&Boolean(c.body),label:"Body",fullWidth:!0,multiline:!0,rows:"10",value:i,onChange:this.change.bind(null,"body")}),r.a.createElement(It.a,null,r.a.createElement(Mt.a,{htmlFor:"categoryId"},"Category"),r.a.createElement(Wt.a,{className:d.selectCategories,value:l,onChange:this.change.bind(null,"category"),inputProps:{name:"categoryId",id:"categoryId"},e:!0},r.a.createElement(Ft.a,{value:""},r.a.createElement("em",null,"None")),m&&m.map(function(e,t){return r.a.createElement(Ft.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement(ht.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!u},"Submit"))}}]),t}(n.Component)),Rt=E()({selectCategories:{minWidth:240}})(Bt),Ut=St.object({title:St.string("Enter a title").required("Title is required").min(10).max(128),synopsis:St.string("Enter a synopsis").required("Synopsis is required").min(128).max(1024),body:St.string("Enter a story").required(!1).min(512),categoryId:St.string("Select a category").required(!1)}),Vt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={categories:[],post:{title:"",synopsis:"",body:"",categoryId:""}},a.loadCategories=Object(Ae.a)(Me.a.mark(function e(){var t,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/categories",t);case 4:return n=e.sent,console.log(n),e.next=8,n.json();case 8:(r=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{categories:r})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),a.loadPost=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/posts/".concat(t),n);case 4:return r=e.sent,e.next=7,r.json();case 7:(o=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{post:o})}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.submit=function(e,t){var n=a.props.postId;n?a.updatePost(n,e):a.savePost(e)},a.savePost=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var a,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/posts",a);case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent)&&console.log(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.updatePost=function(){var e=Object(Ae.a)(Me.a.mark(function e(t,a){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a),mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/posts/".concat(t),n);case 4:return r=e.sent,e.next=7,r.json();case 7:(o=e.sent)&&console.log(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadCategories(),this.props.postId&&this.loadPost(this.props.postId)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.post;return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement(jt.a,{className:t.paper},r.a.createElement(xt.a,{render:function(t){return r.a.createElement(Rt,Object.assign({},t,{categories:e.state.categories}))},initialValues:a,validationSchema:Ut,onSubmit:function(t,a){return e.submit(t,a)},enableReinitialize:!0}))))}}]),t}(n.Component),zt=E()(function(e){return{paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px")},container:{}}})(Vt),Gt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},e?r.a.createElement(zt,{postId:e}):r.a.createElement(zt,null)))}}]),t}(n.Component),Ht=[{id:"List",link:"/admin/categories"},{id:"Create new category",link:"/admin/categories/create"}],Jt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ie,{title:"Categories Overview",tabs:Ht},e)}}]),t}(n.Component),Xt=[{id:"List",link:"/admin/posts"},{id:"Create new post",link:"/admin/posts/create"}],Kt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ie,{title:"Posts Overview",tabs:Xt},e,r.a.createElement(p.b,{exact:!0,path:"/admin/posts",component:wt}),r.a.createElement(p.b,{path:"/admin/posts/create",component:Gt}),r.a.createElement(p.b,{path:"/admin/posts/:id/edit",component:Gt}))}}]),t}(n.Component),Yt=He()("DELETE","SOFTDELETE","SOFTUNDELETE"),$t=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={musea:null,museumId:null,museumAction:null,dialogOpen:!1,dialogTitle:"",dialogMessage:""},a.handleDialogOpen=function(e,t){var n="",r="";switch(t){case Yt.DELETE:n="Delete from the database?",r="Do you wish permenantly delete the museum with id ".concat(e,"?");break;case Yt.SOFTDELETE:n="Soft-delete from the database?",r="Do you wish to soft-delete the museum with id ".concat(e,"?");break;case Yt.SOFTUNDELETE:n="Soft-undelete from the database?",r="Do you wish to soft-undelete the museum with id ".concat(e,"?")}a.setState({museumId:e,museumAction:t,dialogOpen:!0,dialogTitle:n,dialogMessage:r})},a.handleDialogClose=function(){a.setState({dialogOpen:!1})},a.handleDialogSubmit=function(){var e="",t={};switch(a.state.museumAction){case Yt.DELETE:e="/api/v1/musea/".concat(a.state.museumId),t={method:"DELETE"};break;case Yt.SOFTDELETE:e="/api/v1/musea/".concat(a.state.museumId,"?mode=softdelete"),t={method:"DELETE"};break;case Yt.SOFTUNDELETE:e="/api/v1/musea/".concat(a.state.museumId,"?mode=softundelete"),t={method:"DELETE"}}fetch(e,t).then(function(e){return e.json()}).then(function(e){if(e.mode&&"delete"===e.mode)a.loadMusea();else{var t=e,n=a.state.musea.findIndex(function(e,t,a){}),r=a.state.musea;r[n]=t,a.setState(function(e){return Object(k.a)({},e,{musea:r})})}}),a.handleDialogClose()},a.loadMusea=function(){fetch("/api/v1/musea").then(function(e){return e.json()}).then(function(e){return a.setState({musea:e})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadMusea()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.musea;return r.a.createElement(jt.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Xe.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"Name"),r.a.createElement(Ze.a,null,"Location"),r.a.createElement(Ze.a,null,"Latitude"),r.a.createElement(Ze.a,null,"Longitude"),r.a.createElement(Ze.a,null,"Image"),r.a.createElement(Ze.a,null,"Actions"))),r.a.createElement(Ye.a,null,a&&a.map(function(t,a){return r.a.createElement(at.a,{key:t.id},r.a.createElement(Ze.a,null,t.name),r.a.createElement(Ze.a,null,t.location),r.a.createElement(Ze.a,null,t.lat),r.a.createElement(Ze.a,null,t.long),r.a.createElement(Ze.a,null,t.image),r.a.createElement(Ze.a,null,r.a.createElement(W.a,{component:d.b,to:"/admin/musea/".concat(t.id,"/edit")},r.a.createElement(bt.a,null)),r.a.createElement(W.a,{onClick:function(){return e.handleDialogOpen(t.id,t.deleted_at?Yt.SOFTUNDELETE:Yt.SOFTDELETE)},style:{opacity:t.deleted_at?.3:1}},r.a.createElement(Et.a,null)),r.a.createElement(W.a,{onClick:function(){return e.handleDialogOpen(t.id,Yt.DELETE)}},r.a.createElement(Ot.a,null))))})))),r.a.createElement(rt.a,{fullScreen:!1,open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(dt.a,{id:"responsive-dialog-title"},this.state.dialogTitle),r.a.createElement(ct.a,null,r.a.createElement(ut.a,null,this.state.dialogMessage)),r.a.createElement(it.a,null,r.a.createElement(ht.a,{onClick:function(){return e.handleDialogClose()},color:"primary"},"Cancel"),r.a.createElement(ht.a,{onClick:function(){return e.handleDialogSubmit()},color:"primary",autoFocus:!0},"Submit"))))}}]),t}(n.Component),Zt=Object(T.withStyles)(function(e){return{root:{marginTop:3*e.spacing.unit,overflowX:"auto"},table:{}}})($t),Qt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(Zt,null)))}}]),t}(n.Component),ea=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).change=function(e,t){t.persist(),a.props.handleChange(t),a.props.setFieldTouched(e,!0,!1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=a.name,o=a.location,i=a.lat,l=a.long,c=a.image,s=t.errors,u=t.touched,m=(t.handleChange,t.handleSubmit,t.isValid);t.setFieldTouched,t.categories,t.classes;return r.a.createElement("form",{onSubmit:function(t){e.props.handleSubmit(t)},method:"POST"},r.a.createElement(_t.a,{id:"name",name:"name",helperText:u.name?s.name:"",error:u.name&&Boolean(s.name),label:"name",value:n,onChange:this.change.bind(null,"name"),fullWidth:!0}),r.a.createElement(_t.a,{id:"location",name:"location",helperText:u.location?s.location:"",error:u.location&&Boolean(s.location),label:"location",fullWidth:!0,multiline:!0,rows:"4",value:o,onChange:this.change.bind(null,"location")}),r.a.createElement(_t.a,{id:"lat",name:"lat",helperText:u.lat?s.lat:"",error:u.lat&&Boolean(s.lat),label:"lat",fullWidth:!0,multiline:!0,rows:"10",value:i,onChange:this.change.bind(null,"lat")}),r.a.createElement(_t.a,{id:"long",name:"long",helperText:u.long?s.long:"",error:u.long&&Boolean(s.long),label:"long",fullWidth:!0,multiline:!0,rows:"10",value:l,onChange:this.change.bind(null,"long")}),r.a.createElement(_t.a,{id:"image",name:"image",helperText:u.image?s.image:"",error:u.image&&Boolean(s.image),label:"image",fullWidth:!0,multiline:!0,rows:"10",value:c,onChange:this.change.bind(null,"image")}),r.a.createElement(ht.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!m},"Submit"))}}]),t}(n.Component),ta=E()({selectCategories:{minWidth:240}})(ea),aa=St.object({name:St.string("Enter a musea name").required("Name is required").min(10).max(128),location:St.string("Enter a location").required("Location is required").min(10).max(1024),lat:St.number("Enter a latitude").required("latitude is required").min(5),long:St.number("Select a longitude").required("longitude is required").min(5),image:St.string("place the image link").required(!1)}),na=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={museum:{name:"",location:"",lat:"",long:"",image:""}},a.loadMuseum=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/musea/".concat(t),n);case 4:return r=e.sent,e.next=7,r.json();case 7:(o=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{museum:o})}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.submit=function(e,t){var n=a.props.museumId;n?a.updateMuseum(n,e):(console.log("musea is aan het opslaan"),a.saveMuseum(e))},a.saveMuseum=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var a,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("yey"),e.prev=1,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors",cache:"default"},e.next=5,fetch("/api/v1/musea",a);case 5:return n=e.sent,console.log(n.json()),console.log(t),e.next=10,n.json();case 10:(r=e.sent)&&console.log(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}(),a.updateMuseum=function(){var e=Object(Ae.a)(Me.a.mark(function e(t,a){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a),mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/musea/".concat(t),n);case 4:return r=e.sent,e.next=7,r.json();case 7:(o=e.sent)&&console.log(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.museumId&&this.loadMuseum(this.props.museumId)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.museum;return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement(jt.a,{className:t.paper},r.a.createElement(xt.a,{render:function(t){return r.a.createElement(ta,Object.assign({},t,{categories:e.state.categories}))},initialValues:a,validationSchema:aa,onSubmit:function(t,a){return e.submit(t,a)},enableReinitialize:!0}))))}}]),t}(n.Component),ra=E()(function(e){return{paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px")},container:{}}})(na),oa=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},e?r.a.createElement(ra,{museumId:e}):r.a.createElement(ra,null)))}}]),t}(n.Component),ia=[{id:"List",link:"/admin/musea"},{id:"Create new post",link:"/admin/musea/create"}],la=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ie,{title:"Musea Overview",tabs:ia},e,r.a.createElement(p.b,{exact:!0,path:"/admin/musea",component:Qt}),r.a.createElement(p.b,{path:"/admin/musea/create",component:oa}),r.a.createElement(p.b,{path:"/admin/musea/:id/edit",component:oa}))}}]),t}(n.Component),ca=He()("DELETE","SOFTDELETE","SOFTUNDELETE"),sa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={order:null,orderId:null,orderAction:null,dialogOpen:!1,dialogTitle:"",dialogMessage:""},a.handleDialogOpen=function(e,t){var n="",r="";switch(t){case ca.DELETE:n="Delete from the database?",r="Do you wish permenantly delete the order with id ".concat(e,"?");break;case ca.SOFTDELETE:n="Soft-delete from the database?",r="Do you wish to soft-delete the order with id ".concat(e,"?");break;case ca.SOFTUNDELETE:n="Soft-undelete from the database?",r="Do you wish to soft-undelete the order with id ".concat(e,"?")}a.setState({orderId:e,orderAction:t,dialogOpen:!0,dialogTitle:n,dialogMessage:r})},a.handleDialogClose=function(){a.setState({dialogOpen:!1})},a.handleDialogSubmit=function(){var e="",t={};switch(a.state.orderAction){case ca.DELETE:e="/api/v1/order/".concat(a.state.orderId),t={method:"DELETE"};break;case ca.SOFTDELETE:e="/api/v1/order/".concat(a.state.orderId,"?mode=softdelete"),t={method:"DELETE"};break;case ca.SOFTUNDELETE:e="/api/v1/order/".concat(a.state.orderId,"?mode=softundelete"),t={method:"DELETE"}}fetch(e,t).then(function(e){return e.json()}).then(function(e){if(e.mode&&"delete"===e.mode)a.loadOrder();else{var t=e,n=a.state.order.findIndex(function(e,t,a){}),r=a.state.orders;r[n]=t,a.setState(function(e){return Object(k.a)({},e,{orders:r})})}}),a.handleDialogClose()},a.loadOrder=function(){fetch("/api/v1/order").then(function(e){return e.json()}).then(function(e){return a.setState({orders:e})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadOrder()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.orders;return r.a.createElement(jt.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Xe.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"Name"),r.a.createElement(Ze.a,null,"Firstname"),r.a.createElement(Ze.a,null,"ValidationCode"),r.a.createElement(Ze.a,null,"Amount"),r.a.createElement(Ze.a,null,"Museum"))),r.a.createElement(Ye.a,null,a&&a.map(function(e,t){return r.a.createElement(at.a,{key:e.id},r.a.createElement(Ze.a,null,e.name),r.a.createElement(Ze.a,null,e.firstname),r.a.createElement(Ze.a,null,e.validationCode),r.a.createElement(Ze.a,null,e.amount),r.a.createElement(Ze.a,null,e.museum&&e.museum.name))})))),r.a.createElement(rt.a,{fullScreen:!1,open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(dt.a,{id:"responsive-dialog-title"},this.state.dialogTitle),r.a.createElement(ct.a,null,r.a.createElement(ut.a,null,this.state.dialogMessage)),r.a.createElement(it.a,null,r.a.createElement(ht.a,{onClick:function(){return e.handleDialogClose()},color:"primary"},"Cancel"),r.a.createElement(ht.a,{onClick:function(){return e.handleDialogSubmit()},color:"primary",autoFocus:!0},"Submit"))))}}]),t}(n.Component),ua=Object(T.withStyles)(function(e){return{root:{marginTop:3*e.spacing.unit,overflowX:"auto"},table:{}}})(sa),ma=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(ua,null)))}}]),t}(n.Component),da=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).change=function(e,t){t.persist(),a.props.handleChange(t),a.props.setFieldTouched(e,!0,!1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=a.name,o=a.firstname,i=a.validationCode,l=a.amount,c=a.museumId,s=t.errors,u=t.touched,m=(t.handleChange,t.handleSubmit,t.isValid),d=(t.setFieldTouched,t.musea),p=t.classes;return console.log(d),r.a.createElement("form",{onSubmit:function(t){e.props.handleSubmit(t)},method:"POST"},r.a.createElement(_t.a,{id:"name",name:"name",helperText:u.name?s.name:"",error:u.name&&Boolean(s.name),label:"name",value:n,onChange:this.change.bind(null,"name"),fullWidth:!0}),r.a.createElement(_t.a,{id:"firstname",name:"firstname",helperText:u.firstname?s.firstname:"",error:u.firstname&&Boolean(s.firstname),label:"firstname",fullWidth:!0,multiline:!0,rows:"4",value:o,onChange:this.change.bind(null,"firstname")}),r.a.createElement(_t.a,{id:"validationCode",name:"validationCode",helperText:u.validationCode?s.validationCode:"",error:u.validationCode&&Boolean(s.validationCode),label:"validation Code",fullWidth:!0,multiline:!0,rows:"10",value:i,onChange:this.change.bind(null,"validationCode")}),r.a.createElement(_t.a,{id:"amount",name:"amount",helperText:u.amount?s.amount:"",error:u.amount&&Boolean(s.amount),label:"amount",fullWidth:!0,multiline:!0,rows:"10",value:l,onChange:this.change.bind(null,"amount")}),r.a.createElement(It.a,null,r.a.createElement(Mt.a,{htmlFor:"museumId"},"Museum"),r.a.createElement(Wt.a,{className:p.selectCategories,value:c,onChange:this.change.bind(null,"museum"),inputProps:{name:"museumId",id:"museumId"}},d&&d.map(function(e,t){return r.a.createElement(Ft.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement(ht.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!m},"Submit"))}}]),t}(n.Component),pa=E()({selectCategories:{minWidth:240}})(da),ha=St.object({name:St.string("Enter your name").required("Name is required").min(4).max(128),firstname:St.string("Enter your firstname").required("firstname is required").min(4).max(128),validationCode:St.string("Enter a random validation code").required("validation code is required").min(5),amount:St.number("Enter the amount of your tickets").required("amount is required"),museumId:St.string("Select a museum").required("museum is required")}),fa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={musea:[],order:{name:"",firstname:"",validationCode:"",amount:"",museumId:""}},a.loadMuseum=Object(Ae.a)(Me.a.mark(function e(){var t,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/musea",t);case 4:return n=e.sent,console.log(n),e.next=8,n.json();case 8:(r=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{musea:r})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),a.loadOrder=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/order/".concat(t),n);case 4:return r=e.sent,e.next=7,r.json();case 7:(o=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{order:o})}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.submit=function(e,t){var n=a.props.orderId;n?a.updateOrder(n,e):(console.log("musea is aan het opslaan"),a.saveOrder(e))},a.saveOrder=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var a,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("yey"),console.log(t),e.prev=2,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors",cache:"default"},e.next=6,fetch("/api/v1/order",a);case 6:return n=e.sent,console.log(n),e.next=10,n.json();case 10:(r=e.sent)&&console.log(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),a.updateOrder=function(){var e=Object(Ae.a)(Me.a.mark(function e(t,a){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.prev=1,n={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a),mode:"cors",cache:"default"},e.next=5,fetch("/api/v1/musea/".concat(t),n);case 5:return r=e.sent,e.next=8,r.json();case 8:(o=e.sent)&&console.log(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadMuseum(),this.props.orderId&&this.loadOrder(this.props.orderId)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.order;return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement(jt.a,{className:t.paper},r.a.createElement(xt.a,{render:function(t){return r.a.createElement(pa,Object.assign({},t,{musea:e.state.musea}))},initialValues:a,validationSchema:ha,onSubmit:function(t,a){return e.submit(t,a)},enableReinitialize:!0}))))}}]),t}(n.Component),ba=E()(function(e){return{paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px")},container:{}}})(fa),ga=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},e?r.a.createElement(ba,{orderId:e}):r.a.createElement(ba,null)))}}]),t}(n.Component),Ea=[{id:"List",link:"/admin/order"},{id:"Create new post",link:"/admin/order/create"}],va=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ie,{title:"Order Overview",tabs:Ea},e,r.a.createElement(p.b,{exact:!0,path:"/admin/order",component:ma}),r.a.createElement(p.b,{path:"/admin/order/create",component:ga}),r.a.createElement(p.b,{path:"/admin/order/:id/edit",component:ga}))}}]),t}(n.Component),Oa=He()("DELETE","SOFTDELETE","SOFTUNDELETE"),ya=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collections:null,collectionId:null,collectionAction:null,dialogOpen:!1,dialogTitle:"",dialogMessage:""},a.handleDialogOpen=function(e,t){var n="",r="";switch(t){case Oa.DELETE:n="Delete from the database?",r="Do you wish permenantly delete the collection with id ".concat(e,"?");break;case Oa.SOFTDELETE:n="Soft-delete from the database?",r="Do you wish to soft-delete the collection with id ".concat(e,"?");break;case Oa.SOFTUNDELETE:n="Soft-undelete from the database?",r="Do you wish to soft-undelete the collection with id ".concat(e,"?")}a.setState({collectionId:e,collectionAction:t,dialogOpen:!0,dialogTitle:n,dialogMessage:r})},a.handleDialogClose=function(){a.setState({dialogOpen:!1})},a.handleDialogSubmit=function(){var e="",t={};switch(a.state.collectionAction){case Oa.DELETE:e="/api/v1/collections/".concat(a.state.collectionId),t={method:"DELETE"};break;case Oa.SOFTDELETE:e="/api/v1/posts/".concat(a.state.collectionId,"?mode=softdelete"),t={method:"DELETE"};break;case Oa.SOFTUNDELETE:e="/api/v1/posts/".concat(a.state.collectionId,"?mode=softundelete"),t={method:"DELETE"}}fetch(e,t).then(function(e){return e.json()}).then(function(e){if(e.mode&&"delete"===e.mode)a.loadCollections();else{var t=e.collection,n=a.state.collections.findIndex(function(e,t,a){}),r=a.state.collections;r[n]=t,a.setState(function(e){return Object(k.a)({},e,{collections:r})})}}),a.handleDialogClose()},a.loadCollections=function(){fetch("/api/v1/collections").then(function(e){return e.json()}).then(function(e){return a.setState({collections:e})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadCollections()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.collections;return r.a.createElement(jt.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Xe.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(et.a,null,r.a.createElement(at.a,null,r.a.createElement(Ze.a,null,"Title"),r.a.createElement(Ze.a,null,"Body"),r.a.createElement(Ze.a,null,"Artis Name"),r.a.createElement(Ze.a,null,"Image"),r.a.createElement(Ze.a,null,"Museum"),r.a.createElement(Ze.a,null,"Actions"))),r.a.createElement(Ye.a,null,a&&a.map(function(t,a){return r.a.createElement(at.a,{key:t.id},r.a.createElement(Ze.a,null,t.title),r.a.createElement(Ze.a,null,t.body),r.a.createElement(Ze.a,null,t.artistName),r.a.createElement(Ze.a,null,t.image),r.a.createElement(Ze.a,null,t.museum&&t.museum.name),r.a.createElement(Ze.a,null,r.a.createElement(W.a,{component:d.b,to:"/admin/collections/".concat(t.id,"/edit")},r.a.createElement(bt.a,null)),r.a.createElement(W.a,{onClick:function(){return e.handleDialogOpen(t.id,t.deleted_at?Oa.SOFTUNDELETE:Oa.SOFTDELETE)},style:{opacity:t.deleted_at?.3:1}},r.a.createElement(Et.a,null)),r.a.createElement(W.a,{onClick:function(){return e.handleDialogOpen(t.id,Oa.DELETE)}},r.a.createElement(Ot.a,null))))})))),r.a.createElement(rt.a,{fullScreen:!1,open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(dt.a,{id:"responsive-dialog-title"},this.state.dialogTitle),r.a.createElement(ct.a,null,r.a.createElement(ut.a,null,this.state.dialogMessage)),r.a.createElement(it.a,null,r.a.createElement(ht.a,{onClick:function(){return e.handleDialogClose()},color:"primary"},"Cancel"),r.a.createElement(ht.a,{onClick:function(){return e.handleDialogSubmit()},color:"primary",autoFocus:!0},"Submit"))))}}]),t}(n.Component),ja=Object(T.withStyles)(function(e){return{root:{marginTop:3*e.spacing.unit,overflowX:"auto"},table:{}}})(ya),Ca=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},r.a.createElement(ja,null)))}}]),t}(n.Component),ka=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).change=function(e,t){t.persist(),a.props.handleChange(t),a.props.setFieldTouched(e,!0,!1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=a.title,o=a.body,i=a.artistName,l=a.image,c=a.museumId,s=t.errors,u=t.touched,m=(t.handleChange,t.handleSubmit,t.isValid),d=(t.setFieldTouched,t.musea),p=t.classes;return console.log(d),r.a.createElement("form",{onSubmit:function(t){e.props.handleSubmit(t)},method:"POST"},r.a.createElement(_t.a,{id:"title",name:"title",helperText:u.title?s.title:"",error:u.title&&Boolean(s.title),label:"Title",value:n,onChange:this.change.bind(null,"title"),fullWidth:!0}),r.a.createElement(_t.a,{id:"body",name:"body",helperText:u.body?s.body:"",error:u.body&&Boolean(s.body),label:"Body",fullWidth:!0,multiline:!0,rows:"10",value:o,onChange:this.change.bind(null,"body")}),r.a.createElement(_t.a,{id:"artistName",name:"artistName",helperText:u.artistName?s.artistName:"",error:u.artistName&&Boolean(s.artistName),label:"Artist Name",fullWidth:!0,multiline:!0,rows:"4",value:i,onChange:this.change.bind(null,"artistName")}),r.a.createElement(_t.a,{id:"image",name:"image",helperText:u.image?s.image:"",error:u.image&&Boolean(s.image),label:"Image",fullWidth:!0,multiline:!0,rows:"4",value:l,onChange:this.change.bind(null,"image")}),r.a.createElement(It.a,null,r.a.createElement(Mt.a,{htmlFor:"museumId"},"Museum"),r.a.createElement(Wt.a,{className:p.selectCategories,value:c,onChange:this.change.bind(null,"museum"),inputProps:{name:"museumId",id:"museumId"},e:!0},r.a.createElement(Ft.a,{value:""},r.a.createElement("em",null,"None")),d&&d.map(function(e,t){return r.a.createElement(Ft.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement(ht.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!m},"Submit"))}}]),t}(n.Component),Ta=E()({selectCategories:{minWidth:240}})(ka),wa=St.object({title:St.string("Enter a title of the collection").required("Title is required").min(2).max(128),body:St.string("Enter a text about the collection").required("Body is required").min(20).max(1024),artistName:St.string("mention the artist").required("Artist name is required").min(4),image:St.string("Get a link to a immage source").required("image is required").min(4),museumId:St.string("Select a museum").required(!0)}),xa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={musea:[],collection:{title:"",body:"",artistName:"",image:"",museumId:""}},a.loadMusea=Object(Ae.a)(Me.a.mark(function e(){var t,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/musea",t);case 4:return n=e.sent,console.log(n),e.next=8,n.json();case 8:(r=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{musea:r})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),a.loadCollection=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/collections/".concat(t),n);case 4:return r=e.sent,e.next=7,r.json();case 7:(o=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{collection:o})}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.submit=function(e,t){var n=a.props.collectionId;n?a.updateCollection(n,e):a.saveCollection(e)},a.saveCollection=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var a,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("yey"),console.log(t),e.prev=2,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors",cache:"default"},e.next=6,fetch("/api/v1/collections",a);case 6:return n=e.sent,e.next=9,n.json();case 9:(r=e.sent)&&console.log(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),a.updateCollection=function(){var e=Object(Ae.a)(Me.a.mark(function e(t,a){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.prev=1,n={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a),mode:"cors",cache:"default"},e.next=5,fetch("/api/v1/collections/".concat(t),n);case 5:return r=e.sent,e.next=8,r.json();case 8:(o=e.sent)&&console.log(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadMusea(),this.props.collectionId&&this.loadCollection(this.props.collectionId)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.collection;return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement(jt.a,{className:t.paper},r.a.createElement(xt.a,{render:function(t){return r.a.createElement(Ta,Object.assign({},t,{musea:e.state.musea}))},initialValues:a,validationSchema:wa,onSubmit:function(t,a){return e.submit(t,a)},enableReinitialize:!0}))))}}]),t}(n.Component),Sa=E()(function(e){return{paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px ").concat(5*e.spacing.unit,"px")},container:{}}})(xa),Da=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(F.a,{container:!0,spacing:24},r.a.createElement(F.a,{item:!0,xs:12},e?r.a.createElement(Sa,{collectionId:e}):r.a.createElement(Sa,null)))}}]),t}(n.Component),Na=[{id:"List",link:"/admin/collections"},{id:"Create new collection",link:"/admin/collections/create"}],Ia=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Ie,{title:"Collections Overview",tabs:Na},e,r.a.createElement(p.b,{exact:!0,path:"/admin/collections",component:Ca}),r.a.createElement(p.b,{path:"/admin/collections/create",component:Da}),r.a.createElement(p.b,{path:"/admin/collections/:id/edit",component:Da}))}}]),t}(n.Component),La=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Admin"},r.a.createElement(p.b,{path:"/admin/blogs",component:ze}),r.a.createElement(p.b,{path:"/admin/categories",component:Jt}),r.a.createElement(p.b,{path:"/admin/posts",component:Kt}),r.a.createElement(p.b,{path:"/admin/musea",component:la}),r.a.createElement(p.b,{path:"/admin/order",component:va}),r.a.createElement(p.b,{path:"/admin/collections",component:Ia}))}}]),t}(n.Component),Ma=a(62),Aa=a(156),Fa=a.n(Aa),Pa=a(157),Wa=a.n(Pa),qa=a(58),_a=a.n(qa),Ba=a(155),Ra=a.n(Ba),Ua=a(154),Va=a.n(Ua),za=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={email:"",password:""},e.onSubmit=e.onSubmit.bind(Object(Ma.a)(e)),e.handleChange=e.handleChange.bind(Object(Ma.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),function(e){return Va.a.post("api/v1/login/local",{email:e.email,password:e.password}).then(function(e){return localStorage.setItem("userToken",e.data.token),console.log(e.data),localStorage.setItem("userId",e.data.email.id),e.data.token}).catch(function(e){console.error("\ud83d\ude25 WRONG EMAIL OR PASSWORD",e),console.log(e)})}({email:this.state.email,password:this.state.password}).then(function(e){e&&t.props.history.push("/")})}},{key:"render",value:function(){var e=this.props.classes;return this.state.redirectTo?r.a.createElement(p.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null),r.a.createElement(jt.a,{className:e.paper},r.a.createElement(M.a,{className:e.avatar},r.a.createElement(Ra.a,null)),r.a.createElement(J.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form},r.a.createElement(It.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(Mt.a,{htmlFor:"email"},"Email Address"),r.a.createElement(_a.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0})),r.a.createElement(It.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(Mt.a,{htmlFor:"password"},"Password"),r.a.createElement(_a.a,{name:"password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(Fa.a,{control:r.a.createElement(Wa.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(ht.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign in"))))}}]),t}(n.Component),Ga=E()(function(e){return{main:Object(b.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(za),Ha=a(210),Ja=(a(751),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).readTicketsHandler=function(e,t){e.preventDefault(),"function"===typeof a.props.onReadTickets&&a.props.onReadTickets(t)},a.readMoreHandler=function(e,t){e.preventDefault(),"function"===typeof a.props.onReadMore&&a.props.onReadMore(t)},a.loadMoreHandler=function(e,t){e.preventDefault(),"function"===typeof a.props.onLoadMore&&a.props.onLoadMore(t)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.musea,n=t.pagination;return r.a.createElement(r.a.Fragment,null,a&&a.map(function(t,a){return r.a.createElement("article",{key:t.id,className:Y()("museum--small")},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__content"},r.a.createElement("h2",{className:"card__title"},t.name),r.a.createElement("img",{src:t.image,className:"card__image",alt:"museum"}),r.a.createElement("div",{className:"card__btn"},r.a.createElement("button",{className:"order-btn",onClick:function(a){return e.readTicketsHandler(a,t.id)}},"Bestel Tickets")),r.a.createElement("button",{onClick:function(a){return e.readMoreHandler(a,t.id)}},"More"))))}),a&&n.page<n.pages?r.a.createElement("button",{onClick:function(t){return e.loadMoreHandler(t,n.page+1)}},"Meer laden"):"")}}]),t}(n.Component)),Xa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={musea:[],pagination:{limit:5,page:1,pages:1,total:1}},a.loadMusea=function(e){console.log(e),We.findAllMusea({limit:6,skip:e}).then(function(e){console.log("data:"+e);var t=a.state.musea,n=[].concat(Object(Ha.a)(t),Object(Ha.a)(e.docs));a.setState(function(t){return Object(k.a)({},t,{musea:n,pagination:{limit:e.limit,page:e.page,pages:e.pages,total:e.total}})})}).catch(function(e){console.log(e)})},a.goToMuseumDetailPage=function(e){a.props.history.push("/musea/".concat(e))},a.goToTicketsPage=function(e){a.props.history.push("/order-ticket/".concat(e))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadMusea(1)}},{key:"render",value:function(){var e=this.state,t=e.pagination,a=e.musea;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section section--overview"},r.a.createElement("div",{className:"section__content"},r.a.createElement(Ja,{musea:a,pagination:t,onReadMore:this.goToMuseumDetailPage,onLoadMore:this.loadMusea,onReadTickets:this.goToTicketsPage}))))}}]),t}(n.Component),Ka=(a(317),a(762),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collection:null},a.loadCollection=function(){We.findAllCollections().then(function(e){a.setState(function(t){return Object(k.a)({},t,{collections:e})})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadCollection()}},{key:"render",value:function(){var e=this.props.data,t=this.state.collections;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement("article",{key:e.id,className:Y()("museum--large")},r.a.createElement("h1",{className:"museum__title"},e.name),r.a.createElement("div",{className:"museum__synopsis"},e.location),r.a.createElement("div",{className:"museum__synopsis"},e.description),t&&t.map(function(t,a){return t.museumId===e.id?r.a.createElement("div",null,t.title):null})):"<p>LOADING</p>")}}]),t}(n.Component)),Ya=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={museum:null},a.loadPost=function(e){We.findOnePost(e).then(function(e){a.setState(function(t){return Object(k.a)({},t,{museum:e})})}).catch(function(e){})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadPost(this.props.match.params.id)}},{key:"render",value:function(){var e=this.state.museum;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ka,{data:e}))}}]),t}(n.Component),$a=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collection:null},a.change=function(e,t){t.persist(),a.props.handleChange(t),a.props.setFieldTouched(e,!0,!1)},a.redirectToTarget=function(){a.props.history.push("/musea")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.values,n=a.name,o=a.firstname,i=a.validationCode,l=a.amount,c=a.museumId,s=(t.errors,t.touched,t.handleChange,t.handleSubmit,t.isValid),u=(t.setFieldTouched,t.musea);t.classes;return console.log(u),r.a.createElement("form",{onSubmit:function(t){e.props.handleSubmit(t)},method:"POST"},r.a.createElement(_t.a,{id:"name",name:"name",label:"name",value:n,onChange:this.change.bind(null,"name"),fullWidth:!0}),r.a.createElement(_t.a,{id:"firstname",name:"firstname",label:"firstname",fullWidth:!0,multiline:!0,rows:"4",value:o,onChange:this.change.bind(null,"firstname")}),r.a.createElement(_t.a,{id:"validationCode",name:"validationCode",label:"validation Code",fullWidth:!0,multiline:!0,rows:"10",value:i,onChange:this.change.bind(null,"validationCode")}),r.a.createElement(_t.a,{id:"amount",name:"amount",label:"amount",fullWidth:!0,multiline:!0,rows:"10",value:l,onChange:this.change.bind(null,"amount")}),r.a.createElement(It.a,null,r.a.createElement(Mt.a,{htmlFor:"museumId"},"Museum"),r.a.createElement(Wt.a,{value:c,onChange:this.change.bind(null,"museum"),inputProps:{name:"museumId",id:"museumId"}},u&&u.map(function(e,t){return r.a.createElement(Ft.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement(ht.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!s,onClick:this.redirectToTarget},"Submit"))}}]),t}(n.Component),Za=(St.object({name:St.string("Enter your name").required("Name is required").min(4).max(128),firstname:St.string("Enter your firstname").required("firstname is required").min(4).max(128),validationCode:St.string("Enter a random validation code").required("validation code is required").min(5),amount:St.number("Enter the amount of your tickets").required("amount is required"),museumId:St.string("Select a museum").required("museum is required")}),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={musea:[],order:{name:"",firstname:"",validationCode:"",amount:"",museumId:""}},a.loadMuseum=Object(Ae.a)(Me.a.mark(function e(){var t,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/musea",t);case 4:return n=e.sent,console.log(n),e.next=8,n.json();case 8:(r=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{musea:r})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),a.loadOrder=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var n,r,o;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",mode:"cors",cache:"default"},e.next=4,fetch("/api/v1/order/".concat(t),n);case 4:return r=e.sent,e.next=7,r.json();case 7:(o=e.sent)&&a.setState(function(e){return Object(k.a)({},e,{order:o})}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.submit=function(e,t){var n=a.props.orderId;n?a.updateOrder(n,e):(console.log("musea is aan het opslaan"),a.saveOrder(e))},a.saveOrder=function(){var e=Object(Ae.a)(Me.a.mark(function e(t){var a,n,r;return Me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("yey"),console.log(t),e.prev=2,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors",cache:"default"},e.next=6,fetch("/api/v1/order",a);case 6:return n=e.sent,console.log(n),e.next=10,n.json();case 10:(r=e.sent)&&console.log(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadMuseum(),this.props.orderId&&this.loadOrder(this.props.orderId)}},{key:"render",value:function(){var e=this,t=this.state.post;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(jt.a,null,r.a.createElement(xt.a,{render:function(t){return r.a.createElement($a,Object.assign({},t,{musea:e.state.musea}))},initialValues:t,onSubmit:function(t,a){return e.submit(t,a)},enableReinitialize:!0}))))}}]),t}(n.Component)),Qa=(a(763),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement("article",{key:e.id,className:Y()("museum--large")},r.a.createElement("h1",{className:"museum__title"},"Bestel Tickets voor : ",e.name),r.a.createElement("p",{className:"museum__location"},"Bevind zicht: ",e.location),r.a.createElement("form",{class:"form"},r.a.createElement("label",null,"Company"),r.a.createElement("input",{type:"text",placeholder:"naam van company"}),r.a.createElement("label",null,"Soort route museum"),r.a.createElement("select",null,r.a.createElement("option",null,"Voorgeselecteerde route"),r.a.createElement("option",null,"Eigen selectie route")),r.a.createElement("label",null,"Aantal tickets"),r.a.createElement("input",{type:"number"}),r.a.createElement("button",{type:"submit"},"Bestel ticket"))):"<p>LOADING</p>")}}]),t}(n.Component)),en=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={museum:null},a.loadPost=function(e){We.findOnePost(e).then(function(e){a.setState(function(t){return Object(k.a)({},t,{museum:e})})}).catch(function(e){})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadPost(this.props.match.params.id)}},{key:"render",value:function(){var e=this.state.museum;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qa,{data:e}))}}]),t}(n.Component),tn=function(e){var t=e.formErrors;return r.a.createElement("div",{className:"formErrors"},Object.keys(t).map(function(e,a){return t[e].length>0?r.a.createElement("p",{key:a},e," ",t[e]):""}))},an=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={username:"",email:"",password:"",formErrors:{email:"",password:""},emailValid:!1,passwordValid:!1,formValid:!1},e.handleSubmit=e.handleSubmit.bind(Object(Ma.a)(e)),e.handleChange=e.handleChange.bind(Object(Ma.a)(e)),e.handleInputChange=e.handleInputChange.bind(Object(Ma.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=Object(k.a)({},this.state,{localProvider:Object(k.a)({},this.state.localProvider,Object(b.a)({},e.target.name,[e.target.value]))});this.setState(t)}},{key:"handleInputChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;this.setState(Object(b.a)({},a,n),function(){t.validateField(a,n)})}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.emailValid,r=this.state.passwordValid;switch(e){case"email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=n?"":" is invalid";break;case"password":r=t.length>=6,a.password=r?"":" is too short"}this.setState({formErrors:a,emailValid:n,passwordValid:r},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.passwordValid})}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleSubmit",value:function(e){var t=this;console.log("sign-up handleSubmit, username: "),console.log(this.state.username),e.preventDefault(),Va.a.post("/api/v1/users/",{username:this.state.username,email:this.state.email,password:this.state.password}).then(function(e){console.log(e),e.data.errmsg?console.log("username already taken"):(console.log("successful signup"),t.props.history.push("/login"))}).catch(function(e){console.log(t.state),console.log("signup error: "),console.log(e),console.error("\ud83d\udc7b Email already exist",e)})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"discover"}),r.a.createElement(x.a,null),r.a.createElement(jt.a,{className:e.paper},r.a.createElement(M.a,{className:e.avatar},r.a.createElement(Ra.a,null)),r.a.createElement(J.a,{component:"h2",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form},r.a.createElement(It.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(Mt.a,{htmlFor:"name"},"Name"),r.a.createElement(_a.a,{name:"username",type:"text",id:"username",autoComplete:"username",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement(It.a,{margin:"normal",className:"form-group ".concat(this.errorClass(this.state.formErrors.email)),required:!0,fullWidth:!0},r.a.createElement(Mt.a,{htmlFor:"email"},"Email Address"),r.a.createElement(_a.a,{id:"email",name:"email",autoComplete:"email",onChange:this.handleInputChange,value:this.state.email})),r.a.createElement(It.a,{margin:"normal",className:"form-group ".concat(this.errorClass(this.state.formErrors.password)),required:!0,fullWidth:!0},r.a.createElement(Mt.a,{htmlFor:"password"},"Password"),r.a.createElement(_a.a,{type:"password",id:"password",autoComplete:"current-password",onChange:this.handleInputChange,value:this.state.password,name:"password"})),r.a.createElement(Fa.a,{control:r.a.createElement(Wa.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(ht.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this.handleSubmit},"Sign in"))),r.a.createElement("div",null,r.a.createElement(tn,{className:e.panelDefault,formErrors:this.state.formErrors})))}}]),t}(n.Component),nn=E()(function(e){return{main:Object(b.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:30*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},panelDefault:{color:"#D8000C",backgroundColor:"#FFD2D2",padding:"2px",fontSize:"1em",verticalAlign:"middle"},submit:{marginTop:3*e.spacing.unit}}})(an),rn=(a(764),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.collections;return r.a.createElement(r.a.Fragment,null,e&&e.map(function(e,t){return r.a.createElement("article",{key:e.id},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__content"},r.a.createElement("h2",{className:"card__title"},e.title),r.a.createElement("img",{src:e.image,className:"card__image",alt:"collection"}))))}))}}]),t}(n.Component)),on=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collection:null},a.loadCollection=function(){We.findAllCollections().then(function(e){a.setState(function(t){return Object(k.a)({},t,{collections:e})})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.loadCollection()}},{key:"render",value:function(){var e=this.state.collections;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"hidden"},"Collection"),r.a.createElement("section",{className:"section section--overview"},r.a.createElement("div",{className:"section__content"},r.a.createElement(rn,{collections:e}))))}}]),t}(n.Component),ln=(a(765),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.d,null,r.a.createElement(f,{exact:!0,path:"/",layout:y,component:Be}),r.a.createElement(p.a,{from:"/home",to:"/"}),r.a.createElement(f,{exact:!0,path:"/musea",layout:y,component:Xa}),r.a.createElement(f,{exact:!0,path:"/musea/:id",layout:y,component:Ya}),r.a.createElement(f,{exact:!0,path:"/order-ticket",layout:y,component:Za}),r.a.createElement(f,{exact:!0,path:"/order-ticket/:id",layout:y,component:en}),r.a.createElement(f,{path:"/login",layout:O,component:Ga}),r.a.createElement(f,{path:"/admin",layout:Te,component:La}),r.a.createElement(f,{path:"/signup",layout:C.a,component:nn}),r.a.createElement(f,{path:"/collections",layout:y,component:on})))}}]),t}(n.Component)),cn=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(ln,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(cn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[334,1,2]]]);
//# sourceMappingURL=main.ecdf9b08.chunk.js.map